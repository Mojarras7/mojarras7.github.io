<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recepción de Datos desde MongoDB</title>
</head>
<body>
    <h1>Datos de Productos</h1>
    <div id="product-list">
        <!-- Aquí se actualizarán los datos de los productos -->
    </div>

    <script>
        // Función para obtener los datos desde la API
        async function fetchData() {
            try {
                const response = await fetch('http://localhost:5000/api/productos'); // Cambia esto si tu API está en otro lugar
                const productos = await response.json();

                const productListDiv = document.getElementById("product-list");
                productListDiv.innerHTML = ''; // Limpiar contenido anterior

                // Mostrar cada producto en la página
                productos.forEach(producto => {
                    const productElement = document.createElement("div");
                    productElement.innerHTML = `
                        <p>Código de Barras: ${producto.codigo_barras}</p>
                        <p>Estado: ${producto.estado}</p>
                        <p>Fecha Última Compra: ${producto.fecha_ultima_compra}</p>
                        <p>Fecha Último Uso: ${producto.fecha_ultimo_uso}</p>
                        <p>Peso: ${producto.peso} kg</p>
                        <p>Producto: ${producto.producto}</p>
                        <hr>
                    `;
                    productListDiv.appendChild(productElement);
                });
            } catch (error) {
                console.error('Error al obtener los datos:', error);
            }
        }

        // Cargar los datos cuando la página se haya cargado
        window.onload = fetchData;
    </script>
</body>
</html>

